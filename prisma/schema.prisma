// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Transfer {
  id String @id @default(auto()) @map("_id") @db.ObjectId
  uuid  String @default(uuid()) @map("uuid")
  depositNonce Int @unique
  resourceId String
  fromDomainId Int
  fromNetworkName String
  toDomainId Int
  toNetworkName String

  fromAddress String?
  toAddress String?
  amount String?
  timestamp Int?
  depositTransactionHash String? @unique
  depositBlockNumber Int?

  status Int @default(1)

  sourceTokenAddress String?
	destinationTokenAddress String?

  handlerResponse String?

  proposalExecutionEvent ProposalExecutionEvent?
  failedHandlerExecutionEvent FailedHandlerExecutionEvent?
}

type ProposalExecutionEvent {
  originDomainID Int
  depositNonce Int
  dataHash String
  by String
}

type FailedHandlerExecutionEvent {
  lowLevelData String
  originDomainID Int
  depositNonce Int
  by String
}
